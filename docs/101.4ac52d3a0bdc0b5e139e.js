(function(){var e={"esri/views/3d/layers/SceneLayerWorker":1348,"esri/libs/i3s/I3SWorker":1959},n=this||window,t=n.webpackJsonp=n.webpackJsonp||[];t.registerAbsMids?t.registerAbsMids(e):(t.absMidsWaiting=t.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{1348:function(e,n,t){var r,o;r=[t.dj.c(e.i),n,t(0),t(2),t(4),t(101),t(1959)],void 0===(o=function(e,n,t,r,o,i,s){var a,u,f=function(){function e(){}return e.prototype.process=function(n){return t.__awaiter(this,void 0,void 0,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),r=[n.geometryBuffer],[2,{result:l(n,r),transferList:r}]}}))}))},e.prototype.setModifications=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),c(n),[2]}}))}))},e.prototype.setLegacySchema=function(n){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,e.ensureWASM()];case 1:return t.sent(),u.setLegacySchema(n.context,n.jsonSchema),[2]}}))}))},e.prototype.destroyContext=function(e){d(e)},e}();function c(e){for(var n=e.modifications,t=u._malloc(8*n.length),r=new Float64Array(u.HEAPU8.buffer,t,n.length),o=0;o<n.length;++o)r[o]=n[o];u.setModifications(e.context,t,n.length),u._free(t)}function l(e,n){if(!u)return null;var t=e.context,o=e.localOrigin,s=e.globalTrafo,a=e.mbs,f=e.elevationOffset,c=e.geometryBuffer,l=e.geometryDescriptor,d=e.indexToVertexProjector,y=e.vertexToRenderProjector,p=u._malloc(c.byteLength),h=u._malloc(33*Float64Array.BYTES_PER_ELEMENT),m=new Uint8Array(u.HEAPU8.buffer,p,c.byteLength);m.set(new Uint8Array(c));var v=new Float64Array(u.HEAPU8.buffer,h,33);b(v,o);var g=v.byteOffset+3*v.BYTES_PER_ELEMENT,w=new Float64Array(v.buffer,g);b(w,s),g+=16*v.BYTES_PER_ELEMENT,b(w=new Float64Array(v.buffer,g),a),g+=4*v.BYTES_PER_ELEMENT,r.isSome(e.obb)&&(b(w=new Float64Array(v.buffer,g),e.obb.center),g+=3*v.BYTES_PER_ELEMENT,b(w=new Float64Array(v.buffer,g),e.obb.halfSize),g+=3*v.BYTES_PER_ELEMENT,b(w=new Float64Array(v.buffer,g),e.obb.quaternion));var E=l,_={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return"color"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return"normalCompressed"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return"uv0"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return"uvRegion"===e.name}))})),featureIndex:E.featureIndex},A=u.process(t,!!e.obb,p,m.byteLength,E,_,h,f,d,y,e.normalReferenceFrame);if(u._free(h),u._free(p),A.error.length>0)throw"i3s.wasm: "+A.error;if(A.discarded)return null;var M=A.componentOffsets.length>0?i.slice(A.componentOffsets):null,L=A.featureIds.length>0?i.slice(A.featureIds):null,S=i.slice(A.interleavedVertedData).buffer,T=1===A.indicesType?i.slice(new Uint16Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/2)):i.slice(new Uint32Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/4)),I=i.slice(A.positions),P=1===A.positionIndicesType?i.slice(new Uint16Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/2)):i.slice(new Uint32Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/4)),x={layout:e.layouts[0],interleavedVertexData:S,indices:T,hasColors:A.hasColors,positionData:{data:I,indices:P}};return L&&n.push(L.buffer),M&&n.push(M.buffer),n.push(S),n.push(T.buffer),n.push(I.buffer),n.push(P.buffer),{componentOffsets:M,featureIds:L,transformedGeometry:x,obb:A.obb}}function d(e){u&&u.destroy(e)}function b(e,n){for(var t=0;t<n.length;++t)e[t]=n[t]}return function(e){e.ensureWASM=function(){return u?o.resolve():(a||(a=s.getWorkerModule().then((function(e){u=e,a=null}))),a)},e.test={transform:l,setModifications:c,destroy:d}}(f||(f={})),f}.apply(null,r))||(e.exports=o)},1959:function(e,n,t){var r,o;r=[t.dj.c(e.i),n,t(128),t(25),t(4),t(14)],void 0===(o=function(e,n,r,o,i){function s(e){return r.getAssetUrl("esri/libs/i3s/"+e)}var a;Object.defineProperty(n,"__esModule",{value:!0}),n.getWorkerModule=function(){if(!a){var e=o("esri-wasm")?new Promise((function(e,n){t.e(156).then(function(){var n=[t(2134)];e.apply(null,n)}.bind(this)).catch(n.bind(this))})):new Promise((function(e,n){t.e(157).then(function(){var n=[t(2135)];e.apply(null,n)}.bind(this)).catch(n.bind(this))}));a=i.create((function(n){return e.then((function(e){var t=e({locateFile:s,onRuntimeInitialized:function(){return n(t)}});delete t.then}))})).catch((function(e){return i.reject(e)}))}return a}}.apply(null,r))||(e.exports=o)}}]);