(function(){var e={"esri/views/3d/layers/i3s/I3SBinaryReader":1430,"esri/renderers/PointCloudRenderer":1444,"esri/views/3d/layers/i3s/LEPCC":1459,"esri/renderers/support/pointCloud/PointSizeAlgorithm":1471,"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":1527,"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":1528,"esri/renderers/PointCloudClassBreaksRenderer":1580,"esri/renderers/PointCloudStretchRenderer":1581,"esri/renderers/PointCloudUniqueValueRenderer":1582,"esri/renderers/support/pointCloud/ColorModulation":1649,"esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":1650,"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":1651,"esri/renderers/support/pointCloud/ColorClassBreakInfo":1652,"esri/renderers/support/pointCloud/StopInfo":1653,"esri/renderers/support/pointCloud/ColorUniqueValueInfo":1654,"esri/views/3d/layers/i3s/PointCloudWorkerUtil":1748},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1430:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(11),r(8),r(5),r(1459)],void 0===(n=function(e,t,r,o,n,i,a){Object.defineProperty(t,"__esModule",{value:!0});var l=i.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function u(e,t,r){for(var n="",i=0;i<r;){var a=e[t+i];if(a<128)n+=String.fromCharCode(a),i++;else if(a>=192&&a<224){if(i+1>=r)throw new o("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var l=(31&a)<<6|63&e[t+i+1];n+=String.fromCharCode(l),i+=2}else if(a>=224&&a<240){if(i+2>=r)throw new o("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");l=(15&a)<<12|(63&e[t+i+1])<<6|63&e[t+i+2],n+=String.fromCharCode(l),i+=3}else{if(!(a>=240&&a<248))throw new o("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(i+3>=r)throw new o("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");if((l=(7&a)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3])>=65536){var u=55296+(l-65536>>10),s=56320+(1023&l);n+=String.fromCharCode(u,s)}else n+=String.fromCharCode(l);i+=4}}return n}function s(e,r){for(var o={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,i=0;i<r.length;i++){var a=r[i],l=a.valueType||a.type,u=t.valueType2ArrayBufferReader[l];o.fields[a.property]=u(e,n),n+=t.valueType2TypedArrayClassMap[l].BYTES_PER_ELEMENT}return o.byteCount=n,o}function p(e,t,r){var n,i,a=[],l=0;for(i=0;i<e;i+=1){if((n=t[i])>0){if(a.push(u(r,l,n-1)),0!==r[l+n-1])throw new o("string-array-error","Invalid string array: missing null termination.")}else a.push(null);l+=n}return a}function d(e,r){return new(0,t.valueType2TypedArrayClassMap[r.valueType])(e,r.byteOffset,r.count*r.valuesPerElement)}function c(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function f(e,t,r){for(var i=null!=t.header?s(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},a={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)},l=i.byteCount,u=0;u<t.ordering.length;u++){var p=t.ordering[u],d=n.clone(t[p]);if(d.count=i.fields.count,"String"===d.valueType){if(d.byteOffset=l,d.byteCount=i.fields[p+"ByteCount"],"UTF-8"!==d.encoding)throw new o("unsupported-encoding","Unsupported String encoding.",{encoding:d.encoding})}else{if(!w(d.valueType))throw new o("unsupported-value-type","Unsupported binary valueType",{valueType:d.valueType});var c=_(d.valueType);l+=l%c!=0?c-l%c:0,d.byteOffset=l,d.byteCount=c*d.valuesPerElement*d.count}l+=d.byteCount,a.entries[p]=d}return a.byteCount=l-a.byteOffset,a}function y(e,t,r){if(t!==e&&l.error("Invalid "+r+" buffer size\n expected: "+e+", actual: "+t+")"),t<e)throw new o("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function v(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function b(e){for(var t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},r=0,o=e.ordering;r<o.length;r++){var n=o[r];if(e.vertexAttributes[n])switch(n){case"position":break;case"normal":t.normal=!0;break;case"color":t.color=!0;break;case"uv0":t.uv0=!0;break;case"region":t.uvRegion=!0}}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function g(e){for(var t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},r=0,o=e;r<o.length;r++)switch(o[r]){case"position":break;case"normal":t.normal=!0;break;case"uv0":t.uv0=!0;break;case"color":t.color=!0;break;case"uv-region":t.uvRegion=!0;break;case"feature-index":t.featureIndex=!0}return t}t.readHeader=s,t.readStringArray=p,t.createTypedView=d,t.createRawView=c,t.createAttributeDataIndex=f,t.createGeometryDescriptorFromDefinition=v,t.createGeometryIndexFromSchema=function(e,t){for(var o=s(e,t&&t.header),n=o.byteCount,i={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},a=o.fields,l=null!=a.vertexCount?a.vertexCount:a.count,u=0,p=t.ordering;u<p.length;u++){var d=p[u];if(t.vertexAttributes[d]){var c=r.__assign(r.__assign({},t.vertexAttributes[d]),{byteOffset:n,count:l}),f=h[d]?h[d]:"_"+d;i.vertexAttributes[f]=c,n+=_(c.valueType)*c.valuesPerElement*l}}var v=a.faceCount;if(t.faces&&v){i.faces={};for(var b=0,g=t.ordering;b<g.length;b++){var w=g[b];t.faces[w]&&(c=r.__assign(r.__assign({},t.faces[w]),{byteOffset:n,count:v}),i.faces[w]=c,n+=_(c.valueType)*c.valuesPerElement*v)}}var m=a.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&m){i.featureAttributes={};for(var C=0,S=t.featureAttributeOrder;C<S.length;C++){var T=S[C];t.featureAttributes[T]&&(c=r.__assign(r.__assign({},t.featureAttributes[T]),{byteOffset:n,count:m}),i.featureAttributes[T]=c,n+=("UInt64"===c.valueType?8:_(c.valueType))*c.valuesPerElement*m)}}return y(n,e.byteLength,"geometry"),i.byteCount=n-i.byteOffset,i},t.createGeometryDescriptor=function(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?g(e.compressedAttributes.attributes):e?v(e):b(t)},t.createGeometryDescriptorFromSchema=b,t.createGeometryDescriptorForDraco=g;var h={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function w(e){return t.valueType2TypedArrayClassMap.hasOwnProperty(e)}function _(e){return w(e)?t.valueType2TypedArrayClassMap[e].BYTES_PER_ELEMENT:0}t.readBinaryAttribute=function(e,t,r){if("lepcc-rgb"===e.encoding)return a.decodeRGB(t);if("lepcc-intensity"===e.encoding)return a.decodeIntensity(t);if(null!=e.encoding&&""!==e.encoding)throw new o("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(l.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(l.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=f(t,e,r);y(n.byteOffset+n.byteCount,t.byteLength,"attribute");var i=n.entries.attributeValues||n.entries.objectIds;if(i){if("String"===i.valueType){var u=n.entries.attributeByteCounts,s=d(t,u),v=c(t,i);return p(u.count,s,v)}return d(t,i)}throw new o("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},t.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},t.valueType2ArrayBufferReader={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}},t.isValueType=w,t.getBytesPerValue=_}.apply(null,o))||(e.exports=n)},1444:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(22),r(7),r(8),r(1),r(1649),r(1650),r(1651)],void 0===(n=function(e,t,r,o,n,i,a,l,u,s){var p=o.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.type=void 0,r.pointSizeAlgorithm=null,r.colorModulation=null,r.pointsPerInch=10,r}return r.__extends(t,e),t.prototype.clone=function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null},t.prototype.cloneProperties=function(){return{pointSizeAlgorithm:i.clone(this.pointSizeAlgorithm),colorModulation:i.clone(this.colorModulation),pointsPerInch:i.clone(this.pointsPerInch)}},r.__decorate([a.property({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],t.prototype,"type",void 0),r.__decorate([a.property({types:s.pointSizeAlgorithmTypes,json:{read:u.read,write:!0}})],t.prototype,"pointSizeAlgorithm",void 0),r.__decorate([a.property({type:l.default,json:{write:!0}})],t.prototype,"colorModulation",void 0),r.__decorate([a.property({json:{write:!0},nonNullable:!0,type:Number})],t.prototype,"pointsPerInch",void 0),r.__decorate([a.subclass("esri.renderers.PointCloudRenderer")],t)}(n.JSONSupport);return function(e){e.fieldTransformTypeKebabDict=new o.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(d||(d={})),d}.apply(null,o))||(e.exports=n)},1459:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(11)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});function o(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+0,10)),version:t.getUint16(r+10,!0),checksum:t.getUint32(r+12,!0)}}function n(e,t,r){var o=[];t=i(e,t,o);for(var n=[],a=0;a<o.length;a++){n.length=0,t=i(e,t,n);for(var l=0;l<n.length;l++)r.push(n[l]+o[a])}return t}function i(e,t,o){var n=new DataView(e,t),i=n.getUint8(0),a=31&i,l=!!(32&i),u=(192&i)>>6,s=0;if(0===u)s=n.getUint32(1,!0),t+=5;else if(1===u)s=n.getUint16(1,!0),t+=3;else{if(2!==u)throw new r("lepcc-decode-error","Bad count type");s=n.getUint8(1),t+=2}if(l)throw new r("lepcc-decode-error","LUT not implemented");for(var p=Math.ceil(s*a/8),d=new Uint8Array(e,t,p),c=0,f=0,y=0,v=-1>>>32-a,b=0;b<s;b++){for(;f<a;)c|=d[y]<<f,f+=8,y+=1;o[b]=c&v,c>>>=a,(f-=a)+a>32&&(c|=d[y-1]>>8-f)}return t+y}t.decodeXYZ=function(e){var t=new DataView(e,0),i=0,a=o(e,t,i),l=a.identifier,u=a.version;if(i+=16,"LEPCC     "!==l)throw new r("lepcc-decode-error","Bad identifier");if(u>1)throw new r("lepcc-decode-error","Unknown version");var s=function(e,t){return{sizeLo:e.getUint32(t+0,!0),sizeHi:e.getUint32(t+4,!0),minX:e.getFloat64(t+8,!0),minY:e.getFloat64(t+16,!0),minZ:e.getFloat64(t+24,!0),maxX:e.getFloat64(t+32,!0),maxY:e.getFloat64(t+40,!0),maxZ:e.getFloat64(t+48,!0),errorX:e.getFloat64(t+56,!0),errorY:e.getFloat64(t+64,!0),errorZ:e.getFloat64(t+72,!0),count:e.getUint32(t+80,!0),reserved:e.getUint32(t+84,!0)}}(t,i);if(i+=88,s.sizeHi*Math.pow(2,32)+s.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var p=new Float64Array(3*s.count),d=[],c=[],f=[],y=[];if(i=n(e,i,d),i=n(e,i,c),i=n(e,i,f),(i=n(e,i,y))!==e.byteLength)throw new r("lepcc-decode-error","Bad length");for(var v=0,b=0,g=0;g<d.length;g++){b+=d[g];for(var h=0,w=0;w<c[g];w++){h+=f[v];var _=y[v];p[3*v]=Math.min(s.maxX,s.minX+2*s.errorX*h),p[3*v+1]=Math.min(s.maxY,s.minY+2*s.errorY*b),p[3*v+2]=Math.min(s.maxZ,s.minZ+2*s.errorZ*_),v++}}return{errorX:s.errorX,errorY:s.errorY,errorZ:s.errorZ,result:p}};t.decodeRGB=function(e){var t=new DataView(e,0),n=0,i=o(e,t,n),a=i.identifier,l=i.version;if(n+=16,"ClusterRGB"!==a)throw new r("lepcc-decode-error","Bad identifier");if(l>1)throw new r("lepcc-decode-error","Unknown version");var u=function(e,t){return{sizeLo:e.getUint32(t+0,!0),sizeHi:e.getUint32(t+4,!0),count:e.getUint32(t+8,!0),colorMapCount:e.getUint16(t+12,!0),lookupMethod:e.getUint8(t+14),compressionMethod:e.getUint8(t+15)}}(t,n);if(n+=16,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+n!==e.byteLength||u.colorMapCount>256)throw new r("lepcc-decode-error","Bad count");for(var s=new Uint8Array(e,n,3*u.colorMapCount),p=new Uint8Array(e,n+3*u.colorMapCount,u.count),d=new Uint8Array(3*u.count),c=0;c<u.count;c++){var f=p[c];d[3*c]=s[3*f],d[3*c+1]=s[3*f+1],d[3*c+2]=s[3*f+2]}return d}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+n!==e.byteLength||0!==u.colorMapCount)throw new r("lepcc-decode-error","Bad count");return new Uint8Array(e,n).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(n+3!==e.byteLength||1!==u.colorMapCount)throw new r("lepcc-decode-error","Bad count");var y=t.getUint8(n),v=t.getUint8(n+1),b=t.getUint8(n+2);for(d=new Uint8Array(3*u.count),c=0;c<u.count;c++)d[3*c]=y,d[3*c+1]=v,d[3*c+2]=b;return d}throw new r("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)};t.decodeIntensity=function(e){var t=new DataView(e,0),n=0,a=o(e,t,n),l=a.identifier,u=a.version;if(n+=16,"Intensity "!==l)throw new r("lepcc-decode-error","Bad identifier");if(u>1)throw new r("lepcc-decode-error","Unknown version");var s=function(e,t){return{sizeLo:e.getUint32(t+0,!0),sizeHi:e.getUint32(t+4,!0),count:e.getUint32(t+8,!0),scaleFactor:e.getUint16(t+12,!0),bitsPerPoint:e.getUint8(t+14),reserved:e.getUint8(t+15)}}(t,n);if(n+=16,s.sizeHi*Math.pow(2,32)+s.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var p=new Uint16Array(s.count);if(8===s.bitsPerPoint){if(s.count+n!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(var d=new Uint8Array(e,n,s.count),c=0;c<s.count;c++)p[c]=d[c]*s.scaleFactor}else if(16===s.bitsPerPoint){if(2*s.count+n!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(d=new Uint16Array(e,n,s.count),c=0;c<s.count;c++)p[c]=d[c]*s.scaleFactor}else{if(i(e,n,d=[])!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(c=0;c<s.count;c++)p[c]=d[c]*s.scaleFactor}return p}}.apply(null,o))||(e.exports=n)},1471:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(22),r(7),r(1)],void 0===(n=function(e,t,r,o,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.typeKebabDictionary=new o.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});var a=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(o,e),r.__decorate([i.property({type:t.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:t.typeKebabDictionary.jsonValues,read:!1,write:t.typeKebabDictionary.write}})],o.prototype,"type",void 0),r.__decorate([i.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],o)}(n.JSONSupport);t.PointSizeAlgorithm=a,t.default=a}.apply(null,o))||(e.exports=n)},1527:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(1),r(1471)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="fixed-size",t.size=0,t.useRealWorldSymbolSizes=null,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})},r.__decorate([o.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],t.prototype,"type",void 0),r.__decorate([o.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"size",void 0),r.__decorate([o.property({type:Boolean,json:{write:!0}})],t.prototype,"useRealWorldSymbolSizes",void 0),n=r.__decorate([o.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],t)}(n.default);t.PointSizeFixedSizeAlgorithm=i,t.default=i}.apply(null,o))||(e.exports=n)},1528:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(1),r(1471)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="splat",t.scaleFactor=1,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({scaleFactor:this.scaleFactor})},r.__decorate([o.enumeration({pointCloudSplatAlgorithm:"splat"})],t.prototype,"type",void 0),r.__decorate([o.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],t.prototype,"scaleFactor",void 0),n=r.__decorate([o.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],t)}(n.default);t.PointSizeSplatAlgorithm=i,t.default=i}.apply(null,o))||(e.exports=n)},1580:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(8),r(1),r(1444),r(313),r(1652)],void 0===(n=function(e,t,r,o,n,i,a,l){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-class-breaks",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.colorClassBreakInfos=null,r}var u;return r.__extends(t,e),u=t,t.prototype.clone=function(){return new u(r.__assign(r.__assign({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:o.clone(this.colorClassBreakInfos),legendOptions:o.clone(this.legendOptions)}))},r.__decorate([n.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],t.prototype,"type",void 0),r.__decorate([n.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([n.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),r.__decorate([n.property({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([n.property({type:[l.default],json:{write:!0}})],t.prototype,"colorClassBreakInfos",void 0),u=r.__decorate([n.subclass("esri.renderers.PointCloudClassBreaksRenderer")],t)}(i)}.apply(null,o))||(e.exports=n)},1581:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(8),r(1),r(1444),r(313),r(1653)],void 0===(n=function(e,t,r,o,n,i,a,l){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-stretch",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.stops=null,r}var u;return r.__extends(t,e),u=t,t.prototype.clone=function(){return new u(r.__assign(r.__assign({},this.cloneProperties()),{field:o.clone(this.field),fieldTransformType:o.clone(this.fieldTransformType),stops:o.clone(this.stops),legendOptions:o.clone(this.legendOptions)}))},r.__decorate([n.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],t.prototype,"type",void 0),r.__decorate([n.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([n.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),r.__decorate([n.property({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([n.property({type:[l.default],json:{write:!0}})],t.prototype,"stops",void 0),u=r.__decorate([n.subclass("esri.renderers.PointCloudStretchRenderer")],t)}(i)}.apply(null,o))||(e.exports=n)},1582:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(8),r(1),r(1444),r(313),r(1654)],void 0===(n=function(e,t,r,o,n,i,a,l){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-unique-value",r.field=null,r.fieldTransformType=null,r.colorUniqueValueInfos=null,r.legendOptions=null,r}var u;return r.__extends(t,e),u=t,t.prototype.clone=function(){return new u(r.__assign(r.__assign({},this.cloneProperties()),{field:o.clone(this.field),fieldTransformType:o.clone(this.fieldTransformType),colorUniqueValueInfos:o.clone(this.colorUniqueValueInfos),legendOptions:o.clone(this.legendOptions)}))},r.__decorate([n.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],t.prototype,"type",void 0),r.__decorate([n.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([n.property({type:i.fieldTransformTypeKebabDict.apiValues,json:{type:i.fieldTransformTypeKebabDict.jsonValues,read:i.fieldTransformTypeKebabDict.read,write:i.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([n.property({type:[l.default],json:{write:!0}})],t.prototype,"colorUniqueValueInfos",void 0),r.__decorate([n.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),u=r.__decorate([n.subclass("esri.renderers.PointCloudUniqueValueRenderer")],t)}(i)}.apply(null,o))||(e.exports=n)},1649:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(7),r(1)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.field=null,t.minValue=0,t.maxValue=255,t}var o;return r.__extends(t,e),o=t,t.prototype.clone=function(){return new o({field:this.field,minValue:this.minValue,maxValue:this.maxValue})},r.__decorate([n.property({type:String,json:{write:!0}})],t.prototype,"field",void 0),r.__decorate([n.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minValue",void 0),r.__decorate([n.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxValue",void 0),o=r.__decorate([n.subclass("esri.renderers.support.pointCloud.ColorModulation")],t)}(o.JSONSupport);t.ColorModulation=i,t.default=i}.apply(null,o))||(e.exports=n)},1650:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(173),r(1527),r(1528)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0});var i={pointCloudFixedSizeAlgorithm:o.default,pointCloudSplatAlgorithm:n.default};function a(e){return e&&i[e.type]||null}t.read=function(e,t,o){var n=a(e);if(n){var i=new n;return i.read(e,o),i}return o&&o.messages&&e&&o.messages.push(new r("pointsizealgorithm:unsupported","Point size algorithms of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:o})),null},t.fromJSON=function(e){var t=a(e);return t?t.fromJSON(e):null}}.apply(null,o))||(e.exports=n)},1651:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(1471),r(1527),r(1528)],void 0===(n=function(e,t,r,o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pointSizeAlgorithmTypes={key:"type",base:r.default,typeMap:{"fixed-size":o.default,splat:n.default}}}.apply(null,o))||(e.exports=n)},1652:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(20),r(7),r(8),r(1),r(19)],void 0===(n=function(e,t,r,o,n,i,a,l){Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.minValue=0,t.maxValue=0,t.color=null,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:i.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],t.prototype,"minValue",void 0),r.__decorate([a.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],t.prototype,"maxValue",void 0),r.__decorate([a.property({type:o,json:{type:[l.Integer],write:!0}})],t.prototype,"color",void 0),n=r.__decorate([a.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],t)}(n.JSONSupport);t.ColorClassBreakInfo=u,t.default=u}.apply(null,o))||(e.exports=n)},1653:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(20),r(7),r(8),r(1),r(19)],void 0===(n=function(e,t,r,o,n,i,a,l){Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.value=0,t.color=null,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({label:this.label,value:this.value,color:i.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"value",void 0),r.__decorate([a.property({type:o,json:{type:[l.Integer],write:!0}})],t.prototype,"color",void 0),n=r.__decorate([a.subclass("esri.renderers.support.pointCloud.StopInfo")],t)}(n.JSONSupport);t.StopInfo=u,t.default=u}.apply(null,o))||(e.exports=n)},1654:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(0),r(20),r(7),r(8),r(1),r(19)],void 0===(n=function(e,t,r,o,n,i,a,l){Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.values=null,t.color=null,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({description:this.description,label:this.label,values:i.clone(this.values),color:i.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:[String],json:{write:!0}})],t.prototype,"values",void 0),r.__decorate([a.property({type:o,json:{type:[l.Integer],write:!0}})],t.prototype,"color",void 0),n=r.__decorate([a.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],t)}(n.JSONSupport);t.ColorUniqueValueInfo=u,t.default=u}.apply(null,o))||(e.exports=n)},1748:function(e,t,r){var o,n;o=[r.dj.c(e.i),t,r(2),r(1580),r(1581),r(1582),r(1430),r(1459)],void 0===(n=function(e,t,r,o,n,i,a,l){function u(e,t){for(var r=new Float64Array(t),o=0;o<t;o++)r[o]=e[3*o+2];return r}function s(e){return null==e||"none"===e?null:"low-four-bit"===e?function(e){return 15&e}:"high-four-bit"===e?function(e){return(240&e)>>4}:"absolute-value"===e?function(e){return Math.abs(e)}:"modulo-ten"===e?function(e){return e%10}:null}function p(e){for(var t=0,r=0,o=e||[];r<o.length;r++)t|=1<<o[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateRenderer=function(e,t,r,a){var l=e.rendererJSON,u=e.isRGBRenderer,p=null,d=null;if(t&&u)p=t;else if(t&&"pointCloudUniqueValueRenderer"===l.type){var c=(d=i.fromJSON(l)).colorUniqueValueInfos;p=new Uint8Array(3*a);for(var f=s(d.fieldTransformType),y=0;y<a;y++)for(var v=(h=f?f(t[y]):t[y])+"",b=0;b<c.length;b++)if(c[b].values.indexOf(v)>=0){p[3*y]=c[b].color.r,p[3*y+1]=c[b].color.g,p[3*y+2]=c[b].color.b;break}}else if(t&&"pointCloudStretchRenderer"===l.type){var g=(d=n.fromJSON(l)).stops;for(p=new Uint8Array(3*a),f=s(d.fieldTransformType),y=0;y<a;y++){var h=f?f(t[y]):t[y],w=g.length-1;if(h<g[0].value)p[3*y]=g[0].color.r,p[3*y+1]=g[0].color.g,p[3*y+2]=g[0].color.b;else if(h>=g[w].value)p[3*y]=g[w].color.r,p[3*y+1]=g[w].color.g,p[3*y+2]=g[w].color.b;else for(b=1;b<g.length;b++)if(h<g[b].value){var _=(h-g[b-1].value)/(g[b].value-g[b-1].value);p[3*y]=g[b].color.r*_+g[b-1].color.r*(1-_),p[3*y+1]=g[b].color.g*_+g[b-1].color.g*(1-_),p[3*y+2]=g[b].color.b*_+g[b-1].color.b*(1-_);break}}}else if(t&&"pointCloudClassBreaksRenderer"===l.type){var m=(d=o.fromJSON(l)).colorClassBreakInfos;for(p=new Uint8Array(3*a),f=s(d.fieldTransformType),y=0;y<a;y++)for(h=f?f(t[y]):t[y],b=0;b<m.length;b++)if(h>=m[b].minValue&&h<=m[b].maxValue){p[3*y]=m[b].color.r,p[3*y+1]=m[b].color.g,p[3*y+2]=m[b].color.b;break}}else for(p=new Uint8Array(3*a),y=0;y<p.length;y++)p[y]=255;if(r&&d&&d.colorModulation){var C=d.colorModulation.minValue,S=d.colorModulation.maxValue;for(y=0;y<a;y++){var T=(h=r[y])>=S?1:h<=C?.3:.3+.7*(h-C)/(S-C);p[3*y]=T*p[3*y],p[3*y+1]=T*p[3*y+1],p[3*y+2]=T*p[3*y+2]}}return p},t.readGeometry=function(e,t){if(null==e.encoding||""===e.encoding){var o=a.createGeometryIndexFromSchema(t,e);if(r.isNone(o.vertexAttributes.position))return;for(var n=a.createTypedView(t,o.vertexAttributes.position),i=o.header.fields,u=[i.offsetX,i.offsetY,i.offsetZ],s=[i.scaleX,i.scaleY,i.scaleZ],p=n.length/3,d=new Float64Array(3*p),c=0;c<p;c++)d[3*c]=n[3*c]*s[0]+u[0],d[3*c+1]=n[3*c+1]*s[1]+u[1],d[3*c+2]=n[3*c+2]*s[2]+u[2];return d}if("lepcc-xyz"===e.encoding)return l.decodeXYZ(t).result},t.getAttributeValues=function(e,t,o){return r.isSome(e)&&e.attributeInfo.useElevation?u(t,o):r.isSome(e)?a.readBinaryAttribute(e.attributeInfo.storageInfo,e.buffer,o):null},t.elevationFromPositions=u,t.filterInPlace=function(e,t,r,o,n){for(var i=e.length/3,a=0,l=0;l<i;l++){for(var u=!0,s=0;s<o.length&&u;s++){var d=o[s].filterJSON,c=n[s].values[l];switch(d.type){case"pointCloudValueFilter":var f="exclude"===d.mode;-1!==d.values.indexOf(c)===f&&(u=!1);break;case"pointCloudBitfieldFilter":var y=p(d.requiredSetBits),v=p(d.requiredClearBits);(c&y)===y&&0==(c&v)||(u=!1);break;case"pointCloudReturnFilter":for(var b=15&c,g=c>>>4&15,h=g>1,w=1===b,_=b===g,m=!1,C=0,S=d.includedReturns;C<S.length;C++){var T=S[C];if("last"===T&&_||"firstOfMany"===T&&w&&h||"lastOfMany"===T&&_&&h||"single"===T&&!h){m=!0;break}}m||(u=!1)}}u&&(r[a]=l,e[3*a]=e[3*l],e[3*a+1]=e[3*l+1],e[3*a+2]=e[3*l+2],t[3*a]=t[3*l],t[3*a+1]=t[3*l+1],t[3*a+2]=t[3*l+2],a++)}return a}}.apply(null,o))||(e.exports=n)}}]);