{"version":3,"sources":["../node_modules/@arcgis/core/rest/support/ClosestFacilitySolveResult.js","../node_modules/@arcgis/core/rest/closestFacility.js","../node_modules/@arcgis/core/tasks/ClosestFacilityTask.js"],"names":["f","r","l","fromJSON","features","map","geometry","g","directions","facilities","incidents","messages","pointBarriers","polylineBarriers","polygonBarriers","routes","e","barriers","o","s","a","spatialReference","i","t","d","type","n","prototype","u","m","y","c","j","p","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","returnRoutes","travelMode","B","b","path","push","slice","apiKey","hasZ","forEach","get","A","query","toQueryParams","data","url","this"],"mappings":"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","file":"static/js/204.4be7e2ca.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/SpatialReference.js\";import n from\"./DirectionsFeatureSet.js\";import l from\"./FeatureSet.js\";import m from\"./NAMessage.js\";import u from\"../../geometry/Point.js\";import y from\"../../geometry/Polyline.js\";import c from\"../../geometry/Polygon.js\";function d(r){return r.features.map((o=>{const s=a.fromJSON(r.spatialReference),i=e.fromJSON(o);return t(i.geometry)&&(i.geometry.spatialReference=s),i}))}function f(r){return l.fromJSON(r).features.map((r=>r.geometry))}let g=class extends o{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return f(r)}readIncidents(r){return f(r)}readPointBarriers(r,e){return f(e.barriers)}readPolylineBarriers(r){return f(r)}readPolygonBarriers(r){return f(r)}readRoutes(r){return d(r)}};r([s({type:[n]})],g.prototype,\"directions\",void 0),r([s({type:[u]})],g.prototype,\"facilities\",void 0),r([i(\"facilities\")],g.prototype,\"readFacilities\",null),r([s({type:[u]})],g.prototype,\"incidents\",void 0),r([i(\"incidents\")],g.prototype,\"readIncidents\",null),r([s({type:[m]})],g.prototype,\"messages\",void 0),r([s({type:[u]})],g.prototype,\"pointBarriers\",void 0),r([i(\"pointBarriers\",[\"barriers\"])],g.prototype,\"readPointBarriers\",null),r([s({type:[y]})],g.prototype,\"polylineBarriers\",void 0),r([i(\"polylineBarriers\")],g.prototype,\"readPolylineBarriers\",null),r([s({type:[c]})],g.prototype,\"polygonBarriers\",void 0),r([i(\"polygonBarriers\")],g.prototype,\"readPolygonBarriers\",null),r([s({type:[e]})],g.prototype,\"routes\",void 0),r([i(\"routes\")],g.prototype,\"readRoutes\",null),g=r([p(\"esri.rest.support.ClosestFacilitySolveResult\")],g);var j=g;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";import{createQueryParamsHelper as r}from\"../core/queryUtils.js\";import{normalizeCentralMeridian as t}from\"../geometry/support/normalizeUtils.js\";import{collectGeometries as i,isInputGeometryZAware as s,fetchServiceDescription as a,dropZValuesOffInputGeometry as o}from\"./networkService.js\";import{parseUrl as n}from\"./utils.js\";import u from\"./support/ClosestFacilitySolveResult.js\";const l=r({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},facilities:!0,incidents:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},returnRoutes:{name:\"returnCFRoutes\"},travelMode:!0});async function c(r,c,m){const f=[],p=[],y={},B={},d=n(r),{path:b}=d;c.incidents&&c.incidents.features&&i(c.incidents.features,p,\"incidents.features\",y),c.facilities&&c.facilities.features&&i(c.facilities.features,p,\"facilities.features\",y),c.pointBarriers&&c.pointBarriers.features&&i(c.pointBarriers.features,p,\"pointBarriers.features\",y),c.polylineBarriers&&c.polylineBarriers.features&&i(c.polylineBarriers.features,p,\"polylineBarriers.features\",y),c.polygonBarriers&&c.polygonBarriers.features&&i(c.polygonBarriers.features,p,\"polygonBarriers.features\",y);const g=await t(p);for(const e in y){const r=y[e];f.push(e),B[e]=g.slice(r[0],r[1])}if(s(B,f)){let e=null;try{e=await a(b,c.apiKey,m)}catch{}e&&!e.hasZ&&o(B,f)}for(const e in B)B[e].forEach(((r,t)=>{c.get(e)[t].geometry=r}));const A={...m,query:{...d.query,...l.toQueryParams(c),f:\"json\"}},{data:j}=await e(`${b}/solveClosestFacility`,A);return u.fromJSON(j)}export{c as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{solve as t}from\"../rest/closestFacility.js\";import e from\"./Task.js\";let c=class extends e{constructor(r){super(r),this.url=null}solve(r,s){return t(this.url,r,s)}};r([s()],c.prototype,\"url\",void 0),c=r([o(\"esri.tasks.ClosestFacilityTask\")],c);var p=c;export{p as default};\n"],"sourceRoot":""}