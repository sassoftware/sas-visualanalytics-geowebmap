{"version":3,"file":"static/js/7745.8c41e76c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/SceneLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/attributeEditing.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Logger.js\";import{isSome as i,isNone as s,applySome as o,destroyMaybe as l}from\"../../../core/maybe.js\";import{initial as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as d}from\"../../../core/sql/WhereClause.js\";import h from\"../../../layers/support/FeatureFilter.js\";import p from\"../../../rest/support/Query.js\";import{I3SMeshView3D as c}from\"./I3SMeshView3D.js\";import{ForAllFeaturesVisibilityMode as y}from\"./II3SMeshView3D.js\";import{LayerView3D as f}from\"./LayerView3D.js\";import{createInteractiveEditSession as g,processAttributeEdits as m}from\"./i3s/attributeEditing.js\";import{createGetFeatureExtent as F}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as v}from\"./i3s/I3SMeshViewFilter.js\";import{NodeFilterImpact as S}from\"./i3s/I3SNode.js\";import _ from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as j}from\"./i3s/I3SQueryFeatureAdapter.js\";import w from\"./i3s/I3SQueryFeatureStore.js\";import{getIndexCrs as I,objectIdFilter as b}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as E}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as x}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as C}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as Q}from\"./support/SceneLayerViewRequiredFields.js\";import{updatingProgress as q}from\"../support/updatingProperties.js\";import O from\"../../layers/SceneLayerView.js\";import{getFloorFilterClause as D}from\"../../support/floorFilterUtils.js\";import{TaskPriority as L}from\"../../support/Scheduler.js\";const A=r.getLogger(\"esri.views.3d.layers.SceneLayerView3D\"),V=x();let R=class extends(c(E(C(f(O))))){constructor(){super(...arguments),this.type=\"scene-layer-3d\",this.lodFactor=1,this.progressiveLoadFactor=1,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!0,this._interactiveEditingSessions=new Map,this._queryEngine=null}get filter(){return i(this.viewFilter)?this.viewFilter.filter:null}set filter(e){!s(e)&&v.checkSupport(e)?i(this.viewFilter)?this.viewFilter.filter=e:this.viewFilter=new v({filter:e,layerFieldsIndex:this.layer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),applyFilters:()=>this._applyFilters(!0),addSqlFilter:(e,t)=>this.addSqlFilter(e,t,this.logError)}):this.viewFilter=null}get requiredFields(){var e,t;return null!=(e=null==(t=this.fieldsHelper)?void 0:t.requiredFields)?e:[]}get floorFilterClause(){const e=D(this);return i(e)?d.create(e,this.layer.fieldsIndex):null}get excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodCrossfadeinDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeinDuration)?e:0}get lodCrossfadeoutDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeoutDuration)?e:0}get lodCrossfadeUncoveredDuration(){var e,t;return null!=(e=null==(t=this.view)?void 0:t.qualitySettings.sceneService[\"3dObject\"].lodCrossfadeUncoveredDuration)?e:0}initialize(){this.fieldsHelper=new Q({layerView:this}),this.updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),n),this.updatingHandles.add((()=>this.layer.renderer),(e=>this.updatingHandles.addPromise(this._rendererChange(e))),n),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this.filter,this.floorFilterClause,this.excludeObjectIdsSorted,o(this.viewFilter,(e=>[e.parsedWhereClause,e.parsedGeometry,e.sortedObjectIds]))]),(()=>this._filterChange())),this.updatingHandles.add((()=>[this.filter,o(this.viewFilter,(e=>e.parsedGeometry))]),(()=>this._geometryFilterChange())),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e))))}destroy(){this.fieldsHelper=l(this.fieldsHelper)}_rangeInfosChanged(e){null!=e&&e.length>0&&A.warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return i(this.filter)?this.filter.createQuery(e):new p(e)}queryExtent(e,t){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatureCount(e,t){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),null==t?void 0:t.signal)}queryFeatures(e,t){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),null==t?void 0:t.signal).then((e=>{if(null==e||!e.features)return e;const t=this.layer;for(const r of e.features)r.layer=t,r.sourceLayer=t;return e}))}queryObjectIds(e,t){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),null==t?void 0:t.signal)}_ensureQueryEngine(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=F(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new _({layerView:this,priority:L.FEATURE_QUERY_ENGINE,spatialIndex:new w({featureAdapter:new j({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,t)=>this._forAllFeatures(((t,r,i)=>e({id:t,index:r,meta:i})),t,y.ALL_IN_CLIPPING_AREA),getFeatureExtent:e,sourceSpatialReference:I(this.layer),viewSpatialReference:this.view.spatialReference})})}highlight(e){const t=this._highlights;if(e instanceof p){const{set:r,handle:i}=t.acquireSet();return this.queryObjectIds(e).then((e=>t.setFeatureIds(r,e))),i}return super.highlight(e)}createInteractiveEditSession(e){return g(this.attributeEditingContext,e)}_createLayerGraphic(e){const r=new t(null,null,e);return r.layer=this.layer,r.sourceLayer=this.layer,r}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}getFilters(){const e=super.getFilters(),t=this.excludeObjectIdsSorted;return i(t)&&e.push((e=>b(t,!1,e))),this.floorFilterClause&&this.addSqlFilter(e,this.floorFilterClause,this.logError),this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),i(this.viewFilter)&&this.viewFilter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}_ensureQuery(e){return this._addDefinitionExpressionToQuery(s(e)?this.createQuery():p.from(e))}get attributeEditingContext(){return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:this._getObjectIdField(),forEachNode:e=>this._forAllNodes((t=>i(t)?e(t.node,t.featureIds):null)),attributeStorageInfo:this.i3slayer.attributeStorageInfo,attributeOverrides:this.attributeOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,t)=>this.setAttributeData(e,t),clearMemCache:()=>this.clearMemCache()}}_handleEdits(e){m(this.attributeEditingContext,e)}get hasGeometryFilter(){const e=this.viewFilter;return i(e)&&i(e.parsedGeometry)}computeNodeFiltering(e){const t=this.viewFilter;return s(t)||t.isMBSGeoemtryVisible(e,this.view.spatialReference,this._controller.crsIndex)?S.Unmodified:S.Culled}};e([a({aliasOf:\"layer\"})],R.prototype,\"i3slayer\",void 0),e([a(q)],R.prototype,\"updatingProgress\",void 0),e([a({type:h})],R.prototype,\"filter\",null),e([a()],R.prototype,\"viewFilter\",void 0),e([a(V.requiredFields)],R.prototype,\"requiredFields\",null),e([a(V.availableFields)],R.prototype,\"availableFields\",void 0),e([a()],R.prototype,\"fieldsHelper\",void 0),e([a()],R.prototype,\"floorFilterClause\",null),e([a()],R.prototype,\"excludeObjectIdsSorted\",null),e([a({readOnly:!0,aliasOf:\"view.qualitySettings.sceneService.3dObject.lodFactor\"})],R.prototype,\"lodFactor\",void 0),e([a({readOnly:!0,aliasOf:\"_controller.updatingProgress\"})],R.prototype,\"updatingProgressValue\",void 0),R=e([u(\"esri.views.3d.layers.SceneLayerView3D\")],R);const G=R;export{G as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../../core/lang.js\";import{isSome as e,isNone as n}from\"../../../../core/maybe.js\";import{attributeLookup as r}from\"../support/attributeUtils.js\";const o={setAttribute(){},rollback(){},commit(){}};var s;function i(e,r){const i=r.attributes[e.objectIdField],a=e.sessions.get(i);if(a)return a;const u=t(r.attributes),c=new Set;if(null==i)return o;const f=e.attributeOverrides.createInteractiveEditSession(i),l=new Map,d=(t,e)=>{const n=l.get(t);if(null==n){const n=e.indexOf(i);return l.set(t,n),n}return n};let I=s.EDITING;const b={setAttribute(t,o){if(I!==s.EDITING)return;const i=e.fieldsIndex.get(t);if(n(i))return;const a=e.attributeStorageInfo.findIndex((t=>t.name===i.name));if(a<0)return;f.set(a,o);const u=e.attributeStorageInfo[a];let l=!1;c.add(t),e.forEachNode(((t,n)=>{const s=d(t,n);if(-1===s)return;const i=e.getAttributeData(t.index);if(i){const n=i[u.name];n&&(n[s]=o,e.setAttributeData(t.index,i,r),l=!0)}})),l&&e.clearMemCache()},rollback(){if(I===s.EDITING){for(const t of c)this.setAttribute(t,u[t]);f.rollback(),I=s.ROLLED_BACK,e.sessions.delete(i)}},commit(){I===s.EDITING&&(f.commit(),I=s.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,b),b}function a(t,n){const r=u(t,n);if(0===r.size)return;const o=new Map;for(let e=0;e<t.attributeStorageInfo.length;e++)o.set(t.attributeStorageInfo[e].name,e);let s=!1;r.forEach(((n,r)=>{const i=t.getAttributeData(r);let a=!1;n.forEach(((n,r)=>{const u=e(i)?i[r]:null,c=o.get(r);for(const{featureIndex:e,value:o,featureId:i}of n)u&&(u[e]=o,a=!0,s=!0),t.attributeOverrides.updateValue(i,c,o)})),a&&t.setAttributeData(r,i,null)})),s&&t.clearMemCache()}function u(t,e){const n=e.edits.updateFeatures;if(!n||0===n.length)return new I;const o=l(e),s=new I,i=new Map;for(let r=0;r<t.attributeStorageInfo.length;r++)i.set(t.attributeStorageInfo[r].name,r);const a=t.fieldsIndex,u=t.objectIdField,f=n.filter((t=>{const e=r(a,t.attributes,u);return o.has(e)}));return t.forEachNode(((e,n)=>{const o=new Set(n);for(const i of f){const f=r(a,i.attributes,u);if(!o.has(f))continue;const l=n.indexOf(f);for(const n in i.attributes){const r=t.fieldsIndex.normalizeFieldName(n),o=c(s,e.index,r),a=i.attributes[n];o.push({featureIndex:l,featureId:f,value:a})}}})),s}function c(t,e,n){const r=f(t,e),o=r.get(n);if(o)return o;const s=new Array;return r.set(n,s),s}function f(t,e){const n=t.get(e);if(n)return n;const r=new d;return t.set(e,r),r}function l(t){const e=new Set;if(!t.updatedFeatures)return e;for(const n of t.updatedFeatures)null!=n.objectId&&null==n.error&&e.add(n.objectId);return e}!function(t){t[t.EDITING=0]=\"EDITING\",t[t.ROLLED_BACK=1]=\"ROLLED_BACK\",t[t.COMMITTED=2]=\"COMMITTED\"}(s||(s={}));const d=Map,I=Map;export{i as createInteractiveEditSession,a as processAttributeEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as p}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as a,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let u=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)return new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});return a(s,e)?void 0:new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)return Promise.reject(t);const c=s(r)?r.clientGraphics:null;if(!c||0===c.length)return Promise.resolve([]);const u=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer,n=o(this.layer.fieldsIndex,await i(u,a(this.layer,r)));await this.prepareFetchPopupFeatures(n);const l=new Set,h=[],y=[];for(const s of c)p(n,s,l)?y.push(s):h.push(s);return 0===y.length?Promise.resolve(h):this.whenGraphicAttributes(y,[...l]).catch((()=>y)).then((e=>h.concat(e)))}};return u=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],u),u};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"./Accessor.js\";import s from\"./Logger.js\";import{runTracked as a}from\"./accessorSupport/tracking.js\";import{property as n}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import{SimpleTrackingTarget as o}from\"./accessorSupport/tracking/SimpleTrackingTarget.js\";const c=e=>{let a=class extends e{constructor(){super(...arguments),this._numUpdating=0,this.asyncUpdateState=new Map}get updating(){return this._numUpdating>0}autoUpdateAsync(t,e){return p((e=>this._updateAsync(t,e)),e)}async _updateAsync(t,e){if(!this._startAsyncUpdate(t)){try{const s=await e();this._set(t,s)}catch(a){s.getLogger(this.declaredClass).warn(`Async update of \"${t}\" failed. Async update functions should not throw exceptions.`)}this._endAsyncUpdate(t)&&this._updateAsync(t,e)}}_startAsyncUpdate(t){var e;const s=null!=(e=this.asyncUpdateState.get(t))?e:i.None;return s&i.Updating?(this.asyncUpdateState.set(t,s|i.Invalidated),!0):(++this._numUpdating,this.asyncUpdateState.set(t,s|i.Updating),!1)}_endAsyncUpdate(t){var e;--this._numUpdating;const s=(null!=(e=this.asyncUpdateState.get(t))?e:i.None)&~i.Updating;return s&i.Invalidated?(this.asyncUpdateState.set(t,s&~i.Invalidated),!0):(this.asyncUpdateState.set(t,s),!1)}};return t([n({readOnly:!0})],a.prototype,\"updating\",null),t([n()],a.prototype,\"_numUpdating\",void 0),a=t([r(\"esri.core.AsyncUpdate\")],a),a};var i;function p(t,e){const s=()=>{c&&!i&&t(n)},n=()=>{if(!c||i)return e();c.clear(),i=!0;const t=a(c,e);return i=!1,t},r=()=>{c&&(c.destroy(),c=null)};let c=new o(s),i=!1;return t(n),{remove:r}}!function(t){t[t.None=0]=\"None\",t[t.Updating=1]=\"Updating\",t[t.Invalidated=2]=\"Invalidated\"}(i||(i={}));let d=class extends(c(e)){};d=t([r(\"esri.core.AsyncUpdate\")],d);export{d as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{AsyncUpdateMixin as r}from\"../../../../core/AsyncUpdate.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import t from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as a,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";const p=t.getLogger(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\");let c=class extends(r(s)){constructor(e){super(e)}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:o}=this;return a(e,[...i(r,[]),...i(s,[]),...i(t,[]),...i(o,[])])}initialize(){const e=this.layerView.layer;this.layer=e,this.handles.add([this.autoUpdateAsync(\"rendererFields\",(()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?y((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(()=>{const{layer:e}=this;return e.labelsVisible?y((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,filter:r}=this.layerView;return y((s=>n(s,e,r)))}))])}};async function y(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return p.error(s),null}}e([o()],c.prototype,\"layerView\",void 0),e([o()],c.prototype,\"layer\",void 0),e([o()],c.prototype,\"requiredFields\",null),e([o()],c.prototype,\"rendererFields\",void 0),e([o()],c.prototype,\"labelingFields\",void 0),e([o()],c.prototype,\"viewFilterFields\",void 0),c=e([l(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],c);export{c as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import t from\"./LayerView.js\";class o extends t{constructor(){super(...arguments),this.layer=null,this.filter=null}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,r){throw new Error(\"Not implemented\")}queryObjectIds(e,r){throw new Error(\"Not implemented\")}queryFeatureCount(e,r){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,r){throw new Error(\"Not implemented\")}}e([r()],o.prototype,\"layer\",void 0),e([r()],o.prototype,\"availableFields\",null),e([r()],o.prototype,\"maximumNumberOfFeatures\",null),e([r({readOnly:!0})],o.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([r()],o.prototype,\"filter\",void 0);export{o as default};\n"],"names":["A","r","V","x","R","c","E","C","f","O","constructor","super","arguments","this","type","lodFactor","progressiveLoadFactor","_elevationContext","_isIntegratedMesh","_supportsLabeling","_interactiveEditingSessions","Map","_queryEngine","filter","i","viewFilter","e","s","v","layerFieldsIndex","layer","fieldsIndex","loadAsyncModule","_loadAsyncModule","applyFilters","_applyFilters","addSqlFilter","t","logError","requiredFields","fieldsHelper","floorFilterClause","D","d","excludeObjectIdsSorted","excludeObjectIds","length","toArray","sort","lodCrossfadeinDuration","view","qualitySettings","sceneService","lodCrossfadeoutDuration","lodCrossfadeUncoveredDuration","initialize","Q","layerView","updatingHandles","add","rangeInfos","_rangeInfosChanged","n","renderer","addPromise","_rendererChange","parsedDefinitionExpression","o","parsedWhereClause","parsedGeometry","sortedObjectIds","_filterChange","_geometryFilterChange","handles","on","result","_handleEdits","destroy","l","warn","createQuery","outFields","returnGeometry","outSpatialReference","spatialReference","p","queryExtent","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","signal","queryFeatureCount","executeQueryForCount","queryFeatures","executeQuery","then","features","sourceLayer","queryObjectIds","executeQueryForIds","_createQueryEngine","F","renderSpatialReference","_collection","_","priority","L","spatialIndex","w","featureAdapter","j","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","id","index","meta","y","sourceSpatialReference","I","viewSpatialReference","highlight","_highlights","set","handle","acquireSet","setFeatureIds","createInteractiveEditSession","g","attributeEditingContext","_createLayerGraphic","canResume","_controller","rootNodeVisible","getFilters","push","b","addFilters","crsIndex","_addDefinitionExpressionToQuery","sessions","_getObjectIdField","forEachNode","_forAllNodes","node","featureIds","i3slayer","attributeOverrides","getAttributeData","setAttributeData","clearMemCache","m","hasGeometryFilter","computeNodeFiltering","isMBSGeoemtryVisible","S","a","aliasOf","prototype","q","h","availableFields","readOnly","u","G","setAttribute","rollback","commit","attributes","get","Set","indexOf","EDITING","findIndex","name","ROLLED_BACK","delete","COMMITTED","edits","updateFeatures","updatedFeatures","objectId","error","has","normalizeFieldName","featureIndex","featureId","value","size","forEach","updateValue","Array","_validateFetchPopupFeatures","popupEnabled","Promise","reject","clientGraphics","resolve","associatedLayer","prepareFetchPopupFeatures","whenGraphicAttributes","catch","concat","_numUpdating","asyncUpdateState","updating","autoUpdateAsync","clear","remove","_updateAsync","_startAsyncUpdate","_set","declaredClass","_endAsyncUpdate","None","Updating","Invalidated","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","collectRequiredFields","labelsVisible","async","from","String","maximumNumberOfFeatures","Error","maximumNumberOfFeaturesExceeded"],"sourceRoot":""}