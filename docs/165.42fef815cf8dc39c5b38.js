(function(){var e={"esri/views/3d/terrain/support/TerrainDebugPopupOpener":1385},t=this||window,n=t.webpackJsonp=t.webpackJsonp||[];n.registerAbsMids?n.registerAbsMids(e):(n.absMidsWaiting=n.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{1385:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(0),n(91),n(74),n(145),n(13),n(1),n(34),n(77),n(177)],void 0===(i=function(e,t,n,r,i,a,o,p,s,l,c){Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.initialize=function(){var e=this;this.handles.add(this.surface.view.on("click",this._clickEvent.bind(this))),l.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!0,this.surface.view.popup.autoOpenEnabled=!1,o.whenFalse(this.surface.view.popup,"visible",(function(){e._removeTileBoundaryGraphic()}))},t.prototype.destroy=function(){this.surface.view.popup.autoOpenEnabled=!0},t.prototype._clickEvent=function(e){var t=this;this.surface.view.hitTest(e).then((function(n){var r=n.intersector.results.min;if("TerrainRenderer"===r.intersector){var i=t.surface.getTile(r.name);t.surface.view.popup.actions.removeAll(),t.surface.view.popup.open({title:"Tile "+r.name,location:e.mapPoint,content:t._createTileDataTable(i)}),t._removeTileBoundaryGraphic(),t.tileBoundaryGraphic=t._createTileBoundaryGraphic(i),t.surface.view.graphics.add(t.tileBoundaryGraphic)}}))},t.prototype._createTileDataTable=function(e){var t=document.createElement("table");t.innerHTML="<tr>\n                             <th style='text-align:center;font-weight:bold'>type&nbsp;&nbsp;&nbsp;</th>\n                             <th style='text-align:center;font-weight:bold'>layer&nbsp;&nbsp;&nbsp;</th>\n                             <th style='text-align:center;font-weight:bold'>data from tile&nbsp;&nbsp;&nbsp;</th>\n                           </tr>";for(var n=0;n<e.layerInfo.length;n++)for(var r=e.layerInfo[n],i=0;i<r.length;i++){var a=r[i],o=document.createElement("tr"),p=void 0;(p=document.createElement("td")).textContent=0===i?d[n]:"",o.appendChild(p),(p=document.createElement("td")).textContent=i.toString(),o.appendChild(p);var s=a.data?e:a.upsampleInfo?a.upsampleInfo.tile:null;(p=document.createElement("td")).textContent=s?c.tile2str(s):"no data",o.appendChild(p),t.appendChild(o)}return t},t.prototype._removeTileBoundaryGraphic=function(){this.tileBoundaryGraphic&&(this.surface.view.graphics.remove(this.tileBoundaryGraphic),this.tileBoundaryGraphic=null)},t.prototype._createTileBoundaryGraphic=function(e){var t=s.toExtent(e.extent,this.surface.spatialReference),n=new i.PolygonSymbol3D({symbolLayers:[new i.FillSymbol3DLayer({material:{color:"rgba(0, 0, 0, 0)"},outline:{size:"3px",color:"red"}})]});return new r({geometry:t,symbol:n})},n.__decorate([p.property({constructOnly:!0})],t.prototype,"surface",void 0),n.__decorate([p.subclass("esri.views.3d.terrain.support.TerrainDebugPopupOpener")],t)}(a.HandleOwner);t.TerrainDebugPopupOpener=u;var d=["elev","map"]}.apply(null,r))||(e.exports=i)}}]);