{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","../node_modules/@arcgis/core/geometry/geometryEngine.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","../node_modules/@arcgis/core/core/Quantity.js","../node_modules/@arcgis/core/geometry/support/geodesicUtils.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/UnitNormalizer.js","../node_modules/@arcgis/core/properties/defaultUnit.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/viewUtils.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js"],"names":["c","e","view","_resources","_transform","t","this","object","s","r","transformation","attached","createResources","_stage","removeMany","geometries","removeAllGeometries","createGeometries","visible","setVisible","addMany","destroyResources","a","isPickable","updatePolicy","add","i","castShadow","createExternalResources","forEachExternalMaterial","layer","remove","dispose","destroyExternalResources","o","n","Array","isArray","spatialReference","extendedSpatialReferenceInfo","u","clip","cut","contains","crosses","f","distance","l","equals","intersects","touches","p","within","g","disjoint","m","overlaps","d","relate","x","isSimple","w","simplify","E","convexHull","h","difference","A","symmetricDifference","y","intersect","R","union","I","offset","v","buffer","S","geodesicBuffer","j","nearestCoordinate","J","nearestVertex","N","nearestVertices","O","center","extent","V","Error","constructor","fromJSON","rotate","z","flipHorizontal","B","flipVertical","D","generalize","H","densify","L","geodesicDensify","b","planarArea","k","planarLength","q","geodesicArea","C","geodesicLength","_attached","_resourcesCreated","_visible","watch","_createResources","_destroyResources","console","error","updateVisibility","_renderOccluded","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","applyProps","push","geometry","renderCoordsHelper","toRenderCoords","lines","forEach","origin","endpoint","basis1","basis2","endRenderSpace","transform","createRenderGeometry","points","map","_updateMaterial","_geometry","recreateGeometry","recreate","_material","materialParameters","_createLineGeometries","length","addGeometry","width","color","stippleOffColor","stipplePattern","isClosed","falloff","innerColor","innerWidth","stippleIntegerRepeats","polygonOffset","renderOccluded","writeDepth","setParameterValues","Float64Array","attributeData","position","removeDuplicateStartEnd","_","convertToGEGeometry","cache","_geVersion","convertJSONToGeometry","exportPoint","hasZ","hasM","getPointX","getPointY","getPointZ","getPointM","exportPolygon","rings","exportPaths","exportPolyline","paths","exportMultipoint","exportPoints","exportExtent","xmin","getXMin","ymin","getYMin","xmax","getXMax","ymax","getYMax","getZExtent","zmin","vmin","zmax","vmax","getMExtent","mmin","mmax","measure","value","unit","toUnit","isGeographic","wkid","wkt","exec","split","parseFloat","isNaN","WGS84","Object","assign","eSq","radius","densificationRatio","M","some","type","Math","atan","tan","sin","cos","P","F","sqrt","azimuth","reverseAzimuth","atan2","abs","acos","G","_spatialReference","_updateNormalizationFactors","_metersPerDistanceUnit","_metersPerElevationUnit","_squareMetersPerAreaUnit","readOnly","get","units","projectToRenderScreen","U","startRenderSpace","worldUpAtPosition","eval","normals","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","vnodeSelector","properties","children","text","toString","domNode","hasOwnProperty","startX","startY","endX","endY","_set","calculateCoordinates","height","left","top","x1","x2","y1","y2","strokeStyle","lineCap","classes","styles","visibility","style","lineWidth","beginPath","moveTo","lineTo","stroke","min","max","prototype","bottom","right","fontSize","anchor","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","floor","padding","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","fill","_renderTextShadow","fillText","lineJoin","arcTo","closePath","PI","_handles","_textItem","_calloutItem","_showCallout","_showText","_text","_fontSize","_distance","_anchor","_updateLabelPosition","textItem","overlay","_computeLabelPositionFromPoint","point","callout","state","camera","renderToScreen","pixelRatio","_updatePosition","_computeLabelPositionFromCorner","_computeLabelPositionFromSegment","T","segment","sampleLocation","startPosition","endPosition","items","destroyed","removeAll","start","end"],"mappings":"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","file":"static/js/28.d33fb209.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{e as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as o}from\"./VisualElement.js\";import{Object3D as i}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as a}from\"../../webgl-engine/lib/WebGLLayer.js\";class c extends o{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new a({isPickable:!1,updatePolicy:1});e.add(s);const r=new i({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{c as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{G as n}from\"../chunks/geometryEngineBase.js\";import{hydratedAdapter as e}from\"./geometryAdapters/hydrated.js\";function r(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function t(e){return n.extendedSpatialReferenceInfo(e)}function u(t,u){return n.clip(e,r(t),t,u)}function i(t,u){return n.cut(e,r(t),t,u)}function o(t,u){return n.contains(e,r(t),t,u)}function c(t,u){return n.crosses(e,r(t),t,u)}function f(t,u,i){return n.distance(e,r(t),t,u,i)}function l(t,u){return n.equals(e,r(t),t,u)}function a(t,u){return n.intersects(e,r(t),t,u)}function s(t,u){return n.touches(e,r(t),t,u)}function p(t,u){return n.within(e,r(t),t,u)}function g(t,u){return n.disjoint(e,r(t),t,u)}function m(t,u){return n.overlaps(e,r(t),t,u)}function d(t,u,i){return n.relate(e,r(t),t,u,i)}function x(t){return n.isSimple(e,r(t),t)}function w(t){return n.simplify(e,r(t),t)}function E(t,u=!1){return n.convexHull(e,r(t),t,u)}function h(t,u){return n.difference(e,r(t),t,u)}function A(t,u){return n.symmetricDifference(e,r(t),t,u)}function y(t,u){return n.intersect(e,r(t),t,u)}function R(t,u=null){return n.union(e,r(t),t,u)}function I(t,u,i,o,c,f){return n.offset(e,r(t),t,u,i,o,c,f)}function v(t,u,i,o=!1){return n.buffer(e,r(t),t,u,i,o)}function S(t,u,i,o,c,f){return n.geodesicBuffer(e,r(t),t,u,i,o,c,f)}function j(t,u,i=!0){return n.nearestCoordinate(e,r(t),t,u,i)}function J(t,u){return n.nearestVertex(e,r(t),t,u)}function N(t,u,i,o){return n.nearestVertices(e,r(t),t,u,i,o)}function O(n){return\"xmin\"in n?\"center\"in n?n.center:null:\"x\"in n?n:\"extent\"in n?n.extent.center:null}function V(e,r,t){var u;if(null==e)throw new Error(\"Illegal Argument Exception\");const i=e.spatialReference;if(null==(t=null!=(u=t)?u:O(e)))throw new Error(\"Illegal Argument Exception\");const o=e.constructor.fromJSON(n.rotate(e,r,t));return o.spatialReference=i,o}function z(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipHorizontal(e,r));return i.spatialReference=u,i}function B(e,r){var t;if(null==e)throw new Error(\"Illegal Argument Exception\");const u=e.spatialReference;if(null==(r=null!=(t=r)?t:O(e)))throw new Error(\"Illegal Argument Exception\");const i=e.constructor.fromJSON(n.flipVertical(e,r));return i.spatialReference=u,i}function D(t,u,i,o){return n.generalize(e,r(t),t,u,i,o)}function H(t,u,i){return n.densify(e,r(t),t,u,i)}function L(t,u,i,o=0){return n.geodesicDensify(e,r(t),t,u,i,o)}function b(t,u){return n.planarArea(e,r(t),t,u)}function k(t,u){return n.planarLength(e,r(t),t,u)}function q(t,u,i){return n.geodesicArea(e,r(t),t,u,i)}function C(t,u,i){return n.geodesicLength(e,r(t),t,u,i)}export{v as buffer,u as clip,o as contains,E as convexHull,c as crosses,i as cut,H as densify,h as difference,g as disjoint,f as distance,l as equals,t as extendedSpatialReferenceInfo,z as flipHorizontal,B as flipVertical,D as generalize,q as geodesicArea,S as geodesicBuffer,L as geodesicDensify,C as geodesicLength,y as intersect,a as intersects,x as isSimple,j as nearestCoordinate,J as nearestVertex,N as nearestVertices,I as offset,m as overlaps,b as planarArea,k as planarLength,d as relate,V as rotate,w as simplify,A as symmetricDifference,s as touches,R as union,p as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch(\"ready\",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?\"attached\"===s?e=t[s]:this[s]=t[s]:console.error(\"Cannot set unknown property\",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{i as r,t as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{Z as n,c as h}from\"../../../../chunks/vec3f64.js\";import{g as l,c as a}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class m extends _{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=h(),s=h(),i=100,n=[];o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=h(),l=h(),a=h(),p=h();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,l[0]=r[0]-s[0]*o+i[0]*o,l[1]=r[1]-s[1]*o+i[1]*o,l[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;r(g),s(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n){r(g),s(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(a(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&l(r,this._innerColor)||(this._innerColor=a(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!l(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new u(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=i();export{m as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../Extent.js\";import n from\"../Multipoint.js\";import t from\"../Point.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t)),t}function a(e,n,o){const i=e.hasZ(n),r=e.hasM(n),s=new t({x:e.getPointX(n),y:e.getPointY(n),spatialReference:o});return i&&(s.z=e.getPointZ(n)),r&&(s.m=e.getPointM(n)),s.cache._geVersion=n,s}function c(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,t,o){const i=new n({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:o});return i.cache._geVersion=t,i}function x(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({xmin:n.getXMin(t),ymin:n.getYMin(t),xmax:n.getXMax(t),ymax:n.getYMax(t),spatialReference:o});if(i){const e=n.getZExtent(t);s.zmin=e.vmin,s.zmax=e.vmax}if(r){const e=n.getMExtent(t);s.mmin=e.vmin,s.mmax=e.vmax}return s.cache._geVersion=t,s}export{r as hydratedAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../core/Error.js\";import{convertUnit as t}from\"../../core/unitUtils.js\";import{toRadians as n,spheroids as i,WKT_SPHEROID_REGEX as s}from\"./geodesicConstants.js\";import a from\"../Polyline.js\";import r from\"../Polygon.js\";import o from\"../Point.js\";import c from\"../SpatialReference.js\";function l(e){if(!e)return null;if(e.isGeographic&&e.wkid){const t=i[e.wkid];if(t)return t}if(e.wkt){const t=h(e.wkt);if(t)return t}return null}function h(e){const t=s.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(\",\");if(!n||n.length<3)return null;const i=parseFloat(n[1]),a=parseFloat(n[2]);if(isNaN(i)||isNaN(a))return null;return{a:i,f:0===a?0:1/a}}function f(e){const t=l(e||c.WGS84);if(p(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function p(e){return\"b\"in e&&\"eSq\"in e&&\"radius\"in e}function u(e){return e<0?e+360:e}function d(e,t,i){const{a:s,eSq:a}=f(i),r=Math.sqrt(a),o=Math.sin(t[1]*n),c=s*t[0]*n;let l;if(a>0){l=s*((1-a)*(o/(1-a*(o*o))-1/(2*r)*Math.log((1-r*o)/(1+r*o))))*.5}else l=s*o;return e[0]=c,e[1]=l,e}function m(e){return null!==l(e)}function g(n,i=\"square-meters\"){if(n.some((e=>!m(e.spatialReference))))throw new e(\"geodesic-areas:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<n.length;e++){const t=n[e],i=t.spatialReference,{radius:a,densificationRatio:r}=f(i),o=a*r;s.push(w(t,o))}const a=[],r=[0,0],o=[0,0];for(let e=0;e<s.length;e++){const{rings:n,spatialReference:c}=s[e];let l=0;for(let e=0;e<n.length;e++){const t=n[e];d(r,t[0],c),d(o,t[t.length-1],c);let i=o[0]*r[1]-r[0]*o[1];for(let e=0;e<t.length-1;e++)d(r,t[e+1],c),d(o,t[e],c),i+=o[0]*r[1]-r[0]*o[1];l+=i}l=t(l,\"square-meters\",i),a.push(l/-2)}return a}function M(n,i=\"meters\"){if(!n)throw new e(\"geodesic-lengths:invalid-geometries\",\"the input geometries type is not supported\");if(n.some((e=>!m(e.spatialReference))))throw new e(\"geodesic-lengths:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<n.length;e++){const a=n[e],{spatialReference:r}=a,o=\"polyline\"===a.type?a.paths:a.rings;let c=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],s=t[e][0],a=t[e-1][1],o=t[e][1];if(a!==o||i!==s){const e={distance:null};R(e,[i,a],[s,o],r),n+=e.distance}}c+=n}c=t(c,\"meters\",i),s.push(c)}return s}function w(t,n){if(\"polyline\"!==t.type&&\"polygon\"!==t.type)throw new e(\"geodesic-densify:invalid-geometry\",\"the input geometry is neither polyline nor polygon\");const{spatialReference:i}=t;if(!m(i))throw new e(\"geodesic-densify:invalid-spatial-reference\",\"the input geometry spatial reference is not supported\");const s=\"polyline\"===t.type?t.paths:t.rings,o=[],c=[0,0],l={distance:null};for(const e of s){const t=[];o.push(t),t.push([e[0][0],e[0][1]]);let s,a,r=e[0][0],h=e[0][1];for(let o=0;o<e.length-1;o++){if(s=e[o+1][0],a=e[o+1][1],r===s&&h===a)continue;const f=[r,h];R(l,[r,h],[s,a],i);const{azimuth:p,distance:u}=l,d=u/n;if(d>1){for(let e=1;e<=d-1;e++){y(c,f,p,e*n,i),t.push(c.slice(0))}y(c,f,p,(u+Math.floor(d-1)*n)/2,i),t.push(c.slice(0))}y(c,f,p,u,i),t.push(c.slice(0)),r=c[0],h=c[1]}}return\"polyline\"===t.type?new a({paths:o,spatialReference:i}):new r({rings:o,spatialReference:i})}function y(e,t,i,s,a){const r=t[0],o=t[1],c=r*n,l=o*n,h=i*n,{a:p,b:u,f:d}=f(a),m=Math.sin(h),g=Math.cos(h),M=(1-d)*Math.tan(l),w=1/Math.sqrt(1+M*M),y=M*w,R=Math.atan2(M,g),v=w*m,z=v*v,b=1-z,q=b*(p*p-u*u)/(u*u),j=1+q/16384*(4096+q*(q*(320-175*q)-768)),x=q/1024*(256+q*(q*(74-47*q)-128));let A,N,S,k,P=s/(u*j),F=2*Math.PI;for(;Math.abs(P-F)>1e-12;)S=Math.cos(2*R+P),A=Math.sin(P),N=Math.cos(P),k=x*A*(S+x/4*(N*(2*S*S-1)-x/6*S*(4*A*A-3)*(4*S*S-3))),F=P,P=s/(u*j)+k;const G=y*A-w*N*g,C=Math.atan2(y*N+w*A*g,(1-d)*Math.sqrt(z+G*G)),E=Math.atan2(A*m,w*N-y*A*g),I=d/16*b*(4+d*(4-3*b)),O=C/n,U=(c+(E-(1-I)*d*v*(P+I*A*(S+I*N*(2*S*S-1)))))/n;return e[0]=U,e[1]=O,e}function R(e,t,i,s){const a=t[0]*n,r=t[1]*n,o=i[0]*n,c=i[1]*n,{a:l,b:h,f:p,radius:u}=f(s),d=o-a,m=Math.atan((1-p)*Math.tan(r)),g=Math.atan((1-p)*Math.tan(c)),M=Math.sin(m),w=Math.cos(m),y=Math.sin(g),R=Math.cos(g);let v,z,b,q,j,x,A,N,S,k,P=1e3,F=d;do{if(A=Math.sin(F),N=Math.cos(F),b=Math.sqrt(R*A*(R*A)+(w*y-M*R*N)*(w*y-M*R*N)),0===b)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;j=M*y+w*R*N,x=Math.atan2(b,j),S=w*R*A/b,z=1-S*S,q=j-2*M*y/z,isNaN(q)&&(q=0),k=p/16*z*(4+p*(4-3*z)),v=F,F=d+(1-k)*p*S*(x+k*b*(q+k*j*(2*q*q-1)))}while(Math.abs(F-v)>1e-12&&--P>0);if(0===P){const t=u,i=Math.acos(Math.sin(r)*Math.sin(c)+Math.cos(r)*Math.cos(c)*Math.cos(o-a))*t,s=o-a,l=Math.sin(s)*Math.cos(c),h=Math.cos(r)*Math.sin(c)-Math.sin(r)*Math.cos(c)*Math.cos(s),f=Math.atan2(l,h);return e.azimuth=f/n,e.distance=i,e.reverseAzimuth=void 0,e}const G=z*(l*l-h*h)/(h*h),C=G/1024*(256+G*(G*(74-47*G)-128)),E=h*(1+G/16384*(4096+G*(G*(320-175*G)-768)))*(x-C*b*(q+C/4*(j*(2*q*q-1)-C/6*q*(4*b*b-3)*(4*q*q-3)))),I=Math.atan2(R*Math.sin(F),w*y-M*R*Math.cos(F)),O=Math.atan2(w*Math.sin(F),w*y*Math.cos(F)-M*R);return e.azimuth=I/n,e.distance=E,e.reverseAzimuth=O/n,e}function v(n,i,s=\"meters\"){if(!n||!i)throw new e(\"geodesic-distance:missing-parameters\",\"one or both input parameters are missing\");if(!n.spatialReference||!i.spatialReference)throw new e(\"geodesic-distance:invalid-parameters\",\"one or both input points do not have a spatial reference\");if(!n.spatialReference.equals(i.spatialReference))throw new e(\"geodesic-distance:invalid-parameters\",\"spatial references of input parameters do not match\");const{spatialReference:a}=n;if(!m(a))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");if(n.equals(i))return{distance:0,azimuth:0,reverseAzimuth:0};const r={distance:null};return R(r,[n.x,n.y],[i.x,i.y],a),r.distance=t(r.distance,\"meters\",s),r.azimuth=u(r.azimuth),r.reverseAzimuth=u(r.reverseAzimuth),r}function z(t,n,i){if(!t||null==n||null==i)throw new e(\"point-from-distance:missing-parameters\",\"one or more input parameters are missing or undefined\");if(i<0||i>360)throw new e(\"point-from-distance:-of-bounds\",\"azimuth is restricted to angles between, and including, 0 to 360 degrees\");if(!t.spatialReference)throw new e(\"point-from-distance:missing-spatial-reference\",\"the input point must have a spatial reference\");const{spatialReference:s}=t;if(!m(s))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");const a=[0,0];return y(a,[t.x,t.y],i,n,s),new o({x:a[0],y:a[1],spatialReference:s})}export{y as directGeodeticSolver,g as geodesicAreas,w as geodesicDensify,v as geodesicDistance,M as geodesicLengths,R as inverseGeodeticSolver,m as isSupported,z as pointFromDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export{t as UnitNormalizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getDefaultUnitSystem as t}from\"../core/unitUtils.js\";const e={readOnly:!0,get(){const e=\"metric\",{view:r}=this;if(!r)return e;const i=r.get(\"map.portalItem.portal\");if(i){switch(i.get(\"user.units\")||i.units){case e:return e;case\"english\":return\"imperial\"}}return t(r.spatialReference)||e}};export{e as defaultUnitPropertyMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,f as s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{e,f as t,n as s,g as r,b as i}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as c,projectVectorToVector as o}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as p}from\"../../../../../geometry/projectionEllipsoid.js\";import{sv3d as a}from\"../../../../../geometry/support/vectorStacks.js\";import{slerpTangent as h,slerp as d}from\"../../../support/mathUtils.js\";class _{constructor(e=n(),t=n()){this.startRenderSpace=e,this.endRenderSpace=t,this.type=\"euclidean\"}eval(r,i,n){return e(i,this.startRenderSpace,this.endRenderSpace,r),n&&(t(n,this.endRenderSpace,this.startRenderSpace),s(n,n)),i}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=u;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=s.worldUpAtPosition(this.eval(.5,m),a.get());return n(this.startRenderSpace,c),n(this.endRenderSpace,c),{points:r,normals:i}}}class f{constructor(e,t,s){this.startRenderSpace=e,this.endRenderSpace=t,this.renderSpatialReference=s,this.type=\"geodesic\",this._start=n(),this._end=n(),this._pcpf=p(s),this._project=c(s,this._pcpf),this._projectIn(e,this._start),this._projectIn(t,this._end)}_projectIn(e,t){this._project?o(e,this.renderSpatialReference,t,this._pcpf):r(t,e)}eval(r,n,c){if(this._project)if(c){const e=u;h(this._start,this._end,r,n,e),i(R,n,e),o(n,this._pcpf,n,this.renderSpatialReference),o(R,this._pcpf,R,this.renderSpatialReference),t(c,R,n),s(c,c)}else d(this._start,this._end,r,n),o(n,this._pcpf,n,this.renderSpatialReference);else e(n,this._start,this._end,r),c&&(t(c,this._end,this._start),s(c,c));return n}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=R;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=128+1&-2;for(let t=0;t<c;++t){const e=t/(c-1),r=m,i=u;this.eval(e,r),s.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}function l(e,t,s,r){switch(e){case\"euclidean\":return new _(t,s);case\"geodesic\":return new f(t,s,r)}}const m=n(),u=n(),R=n();export{_ as EuclideanSegment,f as GeodesicSegment,l as createSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,f as s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends e{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:a,y2:p}=this.calculateCoordinates(h),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:a,x2:n,y2:p,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([s()],r.prototype,\"startX\",void 0),t([s()],r.prototype,\"startY\",void 0),t([s()],r.prototype,\"endX\",void 0),t([s()],r.prototype,\"endY\",void 0),t([s()],r.prototype,\"startPosition\",null),t([s()],r.prototype,\"endPosition\",null),t([s()],r.prototype,\"width\",void 0),t([s()],r.prototype,\"color\",void 0),t([s()],r.prototype,\"visible\",void 0),t([s({readOnly:!0})],r.prototype,\"strokeStyle\",null),r=t([i(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var n=r;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends e{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,c=this.y+l.y*a;this.roundedRect(t,x,c,n,a,i),t.fillStyle=this.backgroundColor,t.fill();const p=this.x+(l.x+.5)*n,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,p,d),t.fillStyle=this.textColor,t.fillText(this.text,p,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/n.length})`;const r=this.textShadowSize;for(const[s,l]of n)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([o()],l.prototype,\"x\",void 0),t([o()],l.prototype,\"y\",void 0),t([o()],l.prototype,\"position\",null),t([o()],l.prototype,\"text\",void 0),t([o()],l.prototype,\"fontSize\",void 0),t([o()],l.prototype,\"anchor\",void 0),t([o()],l.prototype,\"visible\",void 0),t([o()],l.prototype,\"padding\",null),l=t([i(\"esri.views.overlay.TextOverlayItem\")],l);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},n=[];{const t=16;for(let e=0;e<360;e+=360/t)n.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{isSome as e,unwrap as s}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as i,createRenderScreenPointArray3 as o,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{i as a,s as n,b as h,n as c,f as l,l as m,a as _}from\"../../../../chunks/vec2.js\";import{b as u}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{screenSpaceTangent as d}from\"../measurementTools/support/viewUtils.js\";import{VisualElement as x}from\"./VisualElement.js\";import f from\"../../../overlay/LineOverlayItem.js\";import b from\"../../../overlay/TextOverlayItem.js\";class v extends x{constructor(e){super(e.view),this._handles=new t,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(e)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}overlaps(t){return!!this.attached&&(this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem))}_updateLabelPosition(){if(this.attached){if(this._showText=!1,this._showCallout=!1,e(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":if(this._computeLabelPositionFromPoint(this.geometry.point,k)){if(this.geometry.callout){const t=this.view.state.camera,e=this.geometry.callout.distance;a(R,R,[0,this.geometry.callout.offset]),t.renderToScreen(R,k),n(j,0,1),h(j,j,e*t.pixelRatio),a(j,j,R),t.renderToScreen(j,z),this._showCallout=this._updatePosition(k,z)}else this._textItem.position=[k[0],k[1]],this._textItem.anchor=\"center\";this._showText=!0}break;case\"corner\":this._computeLabelPositionFromCorner(this.geometry,this._distance,k,z)&&(this._showCallout=this._updatePosition(k,z),this._showText=!0);break;case\"segment\":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,k,z)&&(this._showText=!0,this._showCallout=this._updatePosition(k,z))}this.updateVisibility(this.visible)}}_computeLabelPositionFromPoint(t,e){const s=this.view.state.camera;return s.projectToRenderScreen(t,R),!(R[2]<0||R[2]>1)&&(s.renderToScreen(R,e),!0)}_computeLabelPositionFromCorner(t,e,s,i){if(!t)return!1;const o=this.view.state.camera;return w(t.left,1,o,P),c(P,P),w(t.right,0,o,T),a(j,P,T),c(j,j),l(j,j),o.projectToRenderScreen(t.left.endRenderSpace,R),!(R[2]<0||R[2]>1)&&(o.renderToScreen(R,s),h(j,j,e*o.pixelRatio),a(j,j,R),o.renderToScreen(j,i),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const r=t.segment,l=this.view.state.camera;d(r.startRenderSpace,r.endRenderSpace,P,l),n(j,-P[1],P[0]);let _=!1;switch(s){case\"top\":_=j[1]<0;break;case\"bottom\":_=j[1]>0;break;case\"left\":_=j[0]>0;break;case\"right\":_=j[0]<0}if(_&&c(j,j),0===m(j))switch(s){case\"top\":j[1]=1;break;case\"bottom\":j[1]=-1;break;case\"left\":j[0]=-1;break;case\"right\":j[0]=1}return r.eval(O[t.sampleLocation],L),l.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(l.renderToScreen(R,i),h(j,j,e*l.pixelRatio),a(j,j,R),l.renderToScreen(j,o),!0)}_updatePosition(t,e){if(e){const s=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(s)>Math.abs(i)?s>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new b({visible:!0}),this._textItem.text=s(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new f({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateLabelPosition())))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,s,i){t.eval(e,y,S),u(I,y,S),s.projectToRenderScreen(y,C),s.projectToRenderScreen(I,M),_(i,V,F),l(i,i)}function g(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const y=p(),I=p(),S=p(),P=i(),T=i(),j=i(),L=p(),R=o(),k=r(),z=r(),C=o(),F=C,M=o(),V=M,O={start:0,center:.5,end:1};export{v as LabelVisualElement,g as mirrorPosition,w as screenSpaceTangent};\n"],"sourceRoot":""}