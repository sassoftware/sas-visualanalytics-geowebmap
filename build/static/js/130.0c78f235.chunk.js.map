{"version":3,"sources":["../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","../node_modules/@arcgis/core/layers/support/arcgisLayers.js"],"names":["a","BingMapsLayer","default","BuildingSceneLayer","CSVLayer","ElevationLayer","FeatureLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OGCFeatureLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","SceneLayer","StreamLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WebTileLayer","WFSLayer","WMSLayer","WMTSLayer","i","e","r","properties","customParameters","d","url","t","l","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","title","parsedUrl","n","c","y","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","s","f","serverType","o","sublayer","FeatureServer","StreamServer","VectorTileServer","u","S","then","w","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","Point","IntegratedMesh","PointCloud","Building","Array","isArray","layers","length","layerType","p","v","layerInfos","layerIds","I","b","m","type","hasOwnProperty","name","serviceUrl","layersJSON","serviceJSON","map","reverse","filter","currentVersion","responseType","query","data"],"mappings":"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","file":"static/js/130.0c78f235.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as l,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function l(e,l){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(l)&&(n.sourceJSON=l),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=l(a,y(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=l(a,y(r.tableInfos,a));e.tables.add(t)}))}async function d(e,t){let l=s(e);if(a(l)&&(l=await f(e,t)),a(l))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":S(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=w(e,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=w(l.url.path,t).then((e=>{const r={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const a=e.layers[0].layerType;if(null!=r[a])return r[a]}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},p=await u;if(y[p]&&null==o){const r=await v(e,n,t);c&&(d.sublayerInfos=r.layerInfos,d.tableInfos=r.tableInfos);if(1!==r.layerIds.length+r.tableIds.length)d.sublayerIds=r.layerIds,d.tableIds=r.tableIds;else if(c){var I,b;d.layerOrTableId=null!=(I=r.layerIds[0])?I:r.tableIds[0],d.sourceJSON=null!=(b=r.layerInfos[0])?b:r.tableInfos[0]}}return d.Constructor=await m(p),d}async function f(e,r){var a;const s=await w(e,r);let u=null,i=null;const y=s.type;if(\"Feature Layer\"===y||\"Table\"===y?(u=\"FeatureServer\",i=s.id):\"indexedVector\"===y?u=\"VectorTileServer\":s.hasOwnProperty(\"mapName\")?u=\"MapServer\":s.hasOwnProperty(\"bandCount\")&&s.hasOwnProperty(\"pixelSizeX\")?u=\"ImageServer\":s.hasOwnProperty(\"maxRecordCount\")&&s.hasOwnProperty(\"allowGeometryUpdates\")?u=\"FeatureServer\":s.hasOwnProperty(\"streamUrls\")?u=\"StreamServer\":p(s)?(u=\"SceneServer\",i=s.id):s.hasOwnProperty(\"layers\")&&p(null==(a=s.layers)?void 0:a[0])&&(u=\"SceneServer\"),!u)return null;const c=null!=i?o(e):null;return{title:t(c)&&s.name||l(e),serverType:u,sublayer:i,url:{path:t(c)?c.serviceUrl:n(e).path}}}function p(e){return(null==e?void 0:e.hasOwnProperty(\"store\"))&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function v(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await b(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await w(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){var a,t;let l=await w(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await w(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function m(e){return(0,u[e])()}async function S(e,r){return(await w(e,r)).tileInfo}async function w(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a}})).data}export{i as fromUrl};\n"],"sourceRoot":""}